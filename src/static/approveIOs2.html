<h2>Approve new and revised IOs</h2>
<form class="form-search">
    <div class="input-append">
        <input type="text" ng-model="query" class="input-medium search-query" placeholder="Search" />
        <button ng-click="reset()" type="submit" class="btn"><i class="icon-search"></i></button>    
    </div>
    <button ng-click="query=''; reset()" ng-disabled="!query" type="submit" class="btn">Reset</button>
</form>

<table class="table table-striped table-condensed table-hover">
    <thead>
    	<th></th>
    	<th>SFDC IO ID</th>
    	<th>Name</th>
    	<th>Advertiser</th>
    	<th>CPA/CPM</th>
    	<th>Channel</th>
    	<th>Rep Name</th>
    	<th>Start Date</th>
    	<th>End Date</th>
    	<th>Budget</th>
        <th></th><th></th>
    </thead>
    	<tbody ng-repeat="sfdc_camp in sfdc_camps" id="item_{{sfdc_camp.id}}" class="sfdccamp">
			<tr><td> SFDC: </td>
            <td> {{sfdc_camp.oid}} </td>
            <td> {{sfdc_camp.ioname}} </td>
            <td> {{sfdc_camp.sadvertiser}} </td>
            <td> {{sfdc_camp.cp}} </td>
            <td> {{sfdc_camp.channel }} </td>
            <td> {{sfdc_camp.owner_name}} </td>
            <td> {{sfdc_camp.start_date | date:'MM/dd/yy' }} </td>
            <td> {{sfdc_camp.end_date | date:'MM/dd/yy' }} </td>
            <td> {{sfdc_camp.budget | number:0 }} </td>
            <td></td><td></td></tr>
            <tr ng-show="sfdc_camp.campaign"><td> Campaign: </td>
            	<td> {{sfdc_camp.sfdc_oid}} </td>
            	<td> {{sfdc_camp.campaign }} </td>
	           	<td> {{sfdc_camp.advertisername}} </td>
            	<td> {{sfdc_camp.ccp }}</td>
            	<td> {{sfdc_camp.channel.channel}}</td>
            	<td> {{show_name(sfdc_camp.last_name, sfdc_camp.first_name) }}</td>
           	 	<td> {{sfdc_camp.cstart_date | date}}</td>
            	<td> {{sfdc_camp.cend_date | date}}</td>
            	<td> {{sfdc_camp.revised_deal | currency }}</td>
				<div><td><a href="#/edit/{{sfdc_camp.cid}}?fromsfdc={{sfdc_camp.id}}"><button>Edit</button></a></td>
            	<td><button ng-click="approve(sfdc_camp.id)">Approve</button></td></div>
            </tr>
            <tr ng-show="!sfdc_camp.campaign">
            	<td></td>
            	 <td> {{sfdc_camp.oid}} </td>
            	<td> <input type="text" ng-model="sfdc_camp.ioname" id="campaign" placeholder="" required /> </td>
            	<td ng-show="sfdc_camp.ad_sfdc > 1"> <select ui-select2 ng-model="sfdc_camp.advertiser1_id" data-placeholder="-- Select one --">
        	    	<option></option>
    				<option ng-repeat="a in sfdc_camp.select_advertisers_sfdc" value="{{a.id}}">{{a.advertiser}}</option> </select>
    			</td>
          	 	<td ng-show="sfdc_camp.ad_sfdc < 2"> <select ui-select2 ng-model="sfdc_camp.advertiser2_id">
    				<option ng-repeat="a in sfdc_camp.select_advertisers_sfdc" value="{{a.id}}">{{a.advertiser}}</option> </select>
    			</td>
    			
    			<td ng-show="!sfdc_camp.ad_sfdc"> <input ui-select2="select_advertisers" ng-model="sfdc_camp.advertiser3" data-placeholder="-- Select One --" /></td>		
            	<td> {{sfdc_camp.cp}} </td>
    	        <td> {{sfdc_camp.channel }} </td>
    	        <td> {{sfdc_camp.owner_name}} </td>
            	<td> {{sfdc_camp.start_date | date:'MM/dd/yy'}} </td>
            	<td> {{sfdc_camp.end_date | date:'MM/dd/yy'}} </td>
            	<td> {{sfdc_camp.budget | number:0 }} </td>
            	<td></td><td></td>
            </tr>
            <tr><td></td><td></td><td></td><td>Dates:</td> <td ng-repeat="b in sfdc_camp.bookeds">{{b.date | date:'MM/yy'}} </td>
            	
            </tr>
            <tr><td></td><td></td><td></td><td>Booked</td> <td ng-repeat="b in sfdc_camp.bookeds"> <input class="input-small" ng-model ="b.bookedRev" /> </td>
           	</tr>
			<tr><td>&nbsp</td></tr>
            </tbody>
</table>

<a href="" ng-click = "page = page + 1; search()" ng-show ="show_more()">Show more</a>
